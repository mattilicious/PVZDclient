# PVZD Client

Wenn der Docker Container mit der Anwendung gestartet wird, werden folgende
Komponenten gestartet:

- MOCCA (Bürgerkartenumgebung)
- PAtool GUI

Wird das GUI beendet, wird auch der Docker Container beendet und gelöscht.
Ein nochmaliger Aufruf erfolgt vom Terminal mit:

  /usr/local/bin/startall_user.sh


### Funktionen im GUI
In der GUI Anwendung können EntityDescriptor Dokumente erstellt, signiert und
versendet werden.

### Funktionen von der Commandline
Über das Terminal werden zusätzliche Funktionen angeboten:

- Zertifikatsverwaltung
- Export der IDP Siganturzertifiakte aus den Metadaten
- Depositarfunktionen (Registrierung von PV-Teilnehmern, ihren Domänen und den Portaladministratoren, ..)

Aufruf:

    /usr/local/bin/exec.sh aufgerufen # Shell im Container öffnen
    cd /opt/PVZDpolman/PolicyManager/bin/
    # Zertifikate verwalten
    ./PAtool.sh --help
    # Policy Management Point verwalten (PV-Teilnehmer und ihre Domänen, Portal-Admins)
    ./PMP.sh --help

### Sonstiges

Um Daten auch per Datenträger einlesen zu können kann ein Windows-kompatibler Datenträger helfen. Um
eine 2. Partition auf dem Docker-USB Drive einzurichten, würde man bei einem 16GB-Stick z.B. wie folgt vorgehen:

    # mit dmesg die Geräteadresse ermitteln, z.B. /dev/sdb
    sudo fdisk /dev/sdb
    # 2 primäre Partitionen erstellen, 13G + Rest (ca. 2,5G)
    sudo mkfs.ext4 -L dockerdata /dev/sdb1
    sudo mkfs.vfat -F 32 -n pvzddata /dev/sdb2
